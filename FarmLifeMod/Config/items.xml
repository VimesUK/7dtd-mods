<!--
Tiered Food
1 - Plant, basic (flour + dry)
2 - Processed, no poison no health
3 - Refined, more food/water and gives health
4 - Prepared, Refined+10
-->
<configs>
  <append xpath="/items">

    <!--  Beer -->
    <item name="Beer IPA" modTag="beer">
      <property name="CustomIcon" value="drinkJarBeer" />
      <property name="CustomIconTint" value="957D1A" />
    </item>

    <item name="Beer Stout" modTag="beer">
      <property name="CustomIcon" value="drinkJarBeer" />
      <property name="CustomIconTint" value="4B3C00" />
    </item>

    <item name="Beer Lager" modTag="beer">
      <property name="CustomIcon" value="drinkJarBeer" />
      <property name="CustomIconTint" value="DEC663" />
    </item>

    <item name="Beer Cheap" modTag="beer">
      <property name="CustomIcon" value="drinkJarBeer" />
      <property name="CustomIconTint" value="DEC663" />
    </item>

    <!--  Hops -->
    <item name="Bitter Hops" modTag="plant">
      <property name="CustomIcon" value="plantedHop3Harvest" />
      <property name="CustomIconTint" value="6D3C11" />
    </item>

    <item name="Floral Hops" modTag="plant">
      <property name="CustomIcon" value="plantedHop3Harvest" />
      <property name="CustomIconTint" value="D26C11" />
    </item>

    <!--  Sorghum -->
    <item name="Sorghum" modTag="plant">
      <property name="CustomIcon" value="foodCropCorn" />
      <property name="CustomIconTint" value="718800" />
    </item>

    <!--  Malt -->
    <item name="Light Malt" modTag="plant,dry">
      <property name="CustomIcon" value="foodCornMeal" />
      <property name="CustomIconTint" value="DDEE0B" />
    </item>

    <item name="Golden Malt" modTag="plant,dry">
      <property name="CustomIcon" value="foodCornMeal" />
      <property name="CustomIconTint" value="B8C608" />
    </item>

    <item name="Dark Malt" modTag="plant,dry">
      <property name="CustomIcon" value="foodCornMeal" />
      <property name="CustomIconTint" value="727A04" />
    </item>

    <!--  Liquid Veg -->
    <item name="Liquid Veg" modTag="preparedPlant">
      <property name="CustomIcon" value="drinkJarRiverWater" />
      <property name="CustomIconTint" value="A8F96F" />
    </item>

    <!--  Mixed Greens -->
    <item name="Mixed Greens" modTag="refinedPlant">
      <property name="CustomIcon" value="foodVegetableStew" />
      <property name="CustomIconTint" value="A8F96F" />
    </item>

    <!--  Veggie Mash -->
    <item name="Veggie Mash" modTag="refinedPlant">
      <property name="CustomIcon" value="foodVegetableStew" />
      <property name="CustomIconTint" value="00AA76" />
    </item>

    <!--  Broccoli -->
    <item name="Broccoli" modTag="plant">
      <property name="CustomIcon" value="plantedGoldenrod3Harvest"/>
      <property name="CustomIconTint" value="22AA00" />
    </item>

    <item name="Steamed Broccoli" modTag="processedPlant">
      <property name="CustomIcon" value="foodVegetableStew"/>
      <property name="CustomIconTint" value="22AA00" />
    </item>
    <!--  Broccoli -->

    <!--  Squash -->
    <item name="Squash" modTag="plant">
      <property name="CustomIcon" value="foodCropPotato"/>
      <property name="CustomIconTint" value="BDFF00" />
    </item>

    <item name="Grilled Squash" modTag="processedPlant">
      <property name="CustomIcon" value="foodVegetableStew"/>
      <property name="CustomIconTint" value="BDFF00" />
    </item>
    <!--  Squash -->

    <!--  Romaine -->
    <item name="Romaine" modTag="plant">
      <property name="CustomIcon" value="plantedGoldenrod3Harvest"/>
      <property name="CustomIconTint" value="00FF3E" />
    </item>

    <item name="Romaine Salad" modTag="processedPlant">
      <property name="CustomIcon" value="foodVegetableStew"/>
      <property name="CustomIconTint" value="00FF3E" />
    </item>
    <!--  Romaine -->

    <!--  Carrot -->
    <item name="Carrot" modTag="plant">
      <property name="CustomIcon" value="foodCropCorn"/>
      <property name="CustomIconTint" value="FF6C00" />
    </item>

    <item name="Roasted Carrot" modTag="processedPlant">
      <property name="CustomIcon" value="foodCornOnTheCob"/>
      <property name="CustomIconTint" value="FF6C00" />
    </item>
    <!--  Carrot -->

    <!--  Tomato -->
    <item name="Tomato" modTag="plant">
      <property name="CustomIcon" value="foodCropBlueberries"/>
      <property name="CustomIconTint" value="FF4D00" />
    </item>

    <item name="Crushed Tomato" modTag="processedPlant,can">
      <property name="CustomIcon" value="drinkCanEmpty"/>
      <property name="CustomIconTint" value="FF4D00" />
    </item>

    <item name="Marinara" modTag="refinedPlant,jar">
      <property name="CustomIcon" value="drinkJarRiverWater" />
      <property name="CustomIconTint" value="FF4D00" />
    </item>
    <!--  Tomato -->

    <!--  Wheat -->
    <item name="Wheat" modTag="plant">
      <property name="CustomIcon" value="foodCropCorn" />
      <property name="CustomIconTint" value="888888" />
    </item>

    <item name="Wheat Flour" modTag="plant,dry">
      <property name="CustomIcon" value="foodCornMeal" />
      <property name="CustomIconTint" value="888888" />
    </item>

    <item name="Wheat Bread" modTag="preparedPlant">
      <property name="CustomIcon" value="foodCornBread" />
      <property name="CustomIconTint" value="888888" />
    </item>
    <!--  Wheat -->

    <!-- Milk -->
    <item name="Powdered Milk" modTag="plant,dry">
      <property name="CustomIcon" value="foodCornMeal" />
      <property name="CustomIconTint" value="FFFFFF" />
    </item>

    <item name="Milk" modTag="processedPlant,water,jar">
      <property name="CustomIcon" value="drinkJarRiverWater" />
      <property name="CustomIconTint" value="FFFFFF" />
    </item>
    <!-- Milk -->

    <!-- Penne -->
    <item name="Penne" modTag="refinedPlant,dry">
      <property name="CustomIcon" value="drinkJarRiverWater" />
      <property name="CustomIconTint" value="FFFFFF" />
    </item>

    <item name="Bechamel" modTag="refinedPlant">
      <property name="CustomIcon" value="drinkJarRiverWater" />
      <property name="CustomIconTint" value="FFFFFF" />
    </item>

    <item name="Pasta Meal" modTag="preparedPlant">
      <property name="CustomIcon" value="foodMeatStew" />
      <property name="CustomIconTint" value="FFFFFF" />
    </item>
    <!-- Penne -->

  </append>

  <!-- Tier 1 : Plants -->
  <append xpath="/items/item[contains(@modTag,'plant')]">
    <property name="DisplayType" value="food" />
    <property name="HoldType" value="31" />
    <property name="Meshfile" value="Items/Misc/parcelPrefab" />
    <property name="DropMeshfile" value="Items/Misc/sack_droppedPrefab" />
    <property name="Material" value="MresourceCrop" />
    <property name="Stacknumber" value="500" /> <!-- STK resource -->
    <property name="EconomicValue" value="4" />
    <property name="EconomicBundleSize" value="5" />
    <property name="CraftingIngredientTime" value="5" />
    <property class="Action0">
      <property name="Class" value="Eat" />
      <property name="Delay" value="1.0" />
      <property name="Sound_start" value="player_eating" />
    </property>
    <property name="Group" value="Food/Cooking" />
    <effect_group tiered="false">
      <triggered_effect trigger="onSelfPrimaryActionEnd" action="ModifyCVar" cvar="foodAmount" operation="add" value="2" />
      <triggered_effect trigger="onSelfPrimaryActionEnd" action="ModifyCVar" cvar="foodHealthAmount" operation="add" value="1" />
      <triggered_effect trigger="onSelfPrimaryActionEnd" action="AddBuff" target="self" buff="buffProcessConsumables" />
      <triggered_effect trigger="onSelfPrimaryActionEnd" action="AddBuff" target="self" buff="buffIllFoodPoisoning0">
        <requirement name="RandomRoll" seed_type="Random" target="self" min_max="0,100" operation="LTE" value="10" />
      </triggered_effect>
      <display_value name="FoodPoisoningRisk" value=".1" />
    </effect_group>
  </append>

  <!-- Tier 2 : Processed Plants -->
  <append xpath="/items/item[contains(@modTag,'processedPlant')]">
    <property name="HoldType" value="31"/>
    <property name="DisplayType" value="food"/>
    <property name="Meshfile" value="Items/Misc/parcelPrefab"/>
    <property name="DropMeshfile" value="Items/Misc/sack_droppedPrefab"/>
    <property name="Material" value="Mmetal"/>
    <property name="Weight" value="5"/>
    <property name="EconomicValue" value="8"/>
    <property name="Stacknumber" value="50"/> <!-- STK food -->
    <property class="Action0">
      <property name="Class" value="Eat"/>
      <property name="Delay" value="1.0"/>
      <property name="Use_time" value="..."/>
      <property name="Sound_start" value="player_eating"/>
    </property>
    <property name="Group" value="Food/Cooking"/>
    <effect_group tiered="false">
      <triggered_effect trigger="onSelfPrimaryActionEnd" action="ModifyCVar" cvar="waterAmount" operation="add" value="10"/>
      <triggered_effect trigger="onSelfPrimaryActionEnd" action="ModifyCVar" cvar="foodAmount" operation="add" value="10"/>
      <triggered_effect trigger="onSelfPrimaryActionEnd" action="AddBuff" target="self" buff="buffProcessConsumables"/>
    </effect_group>
  </append>

  <!-- Tier 3 : Refined Plants -->
  <append xpath="/items/item[contains(@modTag,'refinedPlant')]">
    <property name="HoldType" value="31" />
    <property name="DisplayType" value="food" />
    <property name="Meshfile" value="Items/Misc/parcelPrefab" />
    <property name="DropMeshfile" value="Items/Misc/sack_droppedPrefab" />
    <property name="Material" value="Morganic" />
    <property name="Stacknumber" value="50" /> <!-- STK food -->
    <property name="EconomicValue" value="16" />
    <property class="Action0">
      <property name="Class" value="Eat" />
      <property name="Delay" value="1.0" />
      <property name="Use_time" value="..." />
      <property name="Sound_start" value="player_eating" />
    </property>
    <property name="Group" value="Food/Cooking" />
    <effect_group tiered="false">
      <triggered_effect trigger="onSelfPrimaryActionEnd" action="ModifyCVar" cvar="foodAmount" operation="add" value="15" />
      <triggered_effect trigger="onSelfPrimaryActionEnd" action="ModifyCVar" cvar="foodHealthAmount" operation="add" value="15" />
      <triggered_effect trigger="onSelfPrimaryActionEnd" action="ModifyCVar" cvar="foodHealthAmount" operation="add" value="15"/>
      <triggered_effect trigger="onSelfPrimaryActionEnd" action="AddBuff" target="self" buff="buffProcessConsumables" />
    </effect_group>
  </append>

  <!-- Tier 4 : Prepared Plants -->
  <append xpath="/items/item[contains(@modTag,'preparedPlant')]">
    <property name="HoldType" value="31" />
    <property name="DisplayType" value="food" />
    <property name="Meshfile" value="Items/Misc/parcelPrefab" />
    <property name="DropMeshfile" value="Items/Misc/sack_droppedPrefab" />
    <property name="Material" value="Morganic" />
    <property name="Stacknumber" value="50" /> <!-- STK food -->
    <property name="EconomicValue" value="32" />
    <property class="Action0">
      <property name="Class" value="Eat" />
      <property name="Delay" value="1.0" />
      <property name="Use_time" value="..." />
      <property name="Sound_start" value="player_eating" />
    </property>
    <property name="Group" value="Food/Cooking" />
    <effect_group tiered="false">
      <triggered_effect trigger="onSelfPrimaryActionEnd" action="ModifyCVar" cvar="foodAmount" operation="add" value="25" />
      <triggered_effect trigger="onSelfPrimaryActionEnd" action="ModifyCVar" cvar="foodHealthAmount" operation="add" value="25" />
      <triggered_effect trigger="onSelfPrimaryActionEnd" action="ModifyCVar" cvar="foodHealthAmount" operation="add" value="25"/>
      <triggered_effect trigger="onSelfPrimaryActionEnd" action="AddBuff" target="self" buff="buffProcessConsumables" />
    </effect_group>
  </append>

  <!-- Beer -->
  <append xpath="/items/item[contains(@modTag,'beer')]">
  	<property name="HoldType" value="3" />
  	<property name="Meshfile" value="Items/Food/bottled_waterPrefab" />
  	<property name="DropMeshfile" value="Items/Misc/sack_droppedPrefab" />
  	<property name="Material" value="Mglass" />
  	<property name="Weight" value="10" />
  	<property name="Stacknumber" value="15" /> <!-- STK drink -->
  	<property name="EconomicValue" value="100" />
  	<property class="Action0">
  		<property name="Class" value="Eat" />
  		<property name="Delay" value="2" />
  		<property name="Use_time" value="..." />
  		<property name="Sound_start" value="player_drinking" />
  		<property name="Create_item" value="drinkJarEmpty" />
  	</property>
  	<effect_group tiered="false">
  		<requirement name="NotHasBuff" buff="buffIsOnFire" />
  		<triggered_effect trigger="onSelfPrimaryActionEnd" action="AddBuff" target="self" buff="buffBeer" />
  	</effect_group>
  	<effect_group tiered="false">
  		<requirement name="HasBuff" buff="buffIsOnFire" />
  			<triggered_effect trigger="onSelfPrimaryActionEnd" action="AddBuff" target="self" buff="buffExtinguishFire" />
  	</effect_group>
  </append>

  <set xpath="/items/item[contains(@modTag,'water')]/property[@name='DisplayType']/@value">
    water
  </set>

  <append xpath="/items/item[contains(@modTag,'can')]/property[@class='Action0']">
    <property name="Create_item" value="drinkCanEmpty"/>
  </append>

  <append xpath="/items/item[contains(@modTag,'jar')]/property[@class='Action0']">
    <property name="Create_item" value="drinkJarEmpty"/>
  </append>

  <append xpath="/items/item[contains(@modTag,'dry')]/effect_group">
    <triggered_effect trigger="onSelfPrimaryActionEnd" action="ModifyCVar" cvar="waterAmount" operation="subtract" value="10" />
  </append>

</configs>
